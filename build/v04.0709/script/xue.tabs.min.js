/**
 * XESUI 
 * Copyright 2013 xueersi.com All rights reserved.
 *
 * @description 
 *
 * @author Marco (marco@xesui.com)
 * @modify 2013-07-08 17:13:04
 * @version $Id$
 * 
 * @links http://xesui.com
 */


/**
 * @name ui.tabs.js
 * @description 页签切换
 * 
 * @module 
 * @submodule 
 * @main 
 * @class 
 * @constructor 
 * @static 
 */

ui.tabs = ui.tabs || function(id, opt){ 
	if(id === undefined){
		return ui.tabs;
	}
	
	ui.tabs.id = id || 'ui_tabs'; 
	ui.tabs.handle = $('#' + ui.tabs.id);

	if(ui.tabs.handle.length == 0){
		return ui.tabs;
	}

	ui.tabs.handle.on('click', 'li', function(){
		$(this).addClass('current').siblings('.current').removeClass('current');
		if(typeof opt === 'function'){
			return opt(this);
		}else{
			return false;
		}
	});

	// ui.tabs.handle.find('li').each(function(){
	// 	var item = $(this).find('a');
	// 	var url = item.attr('href');
	// 	item.attr({
	// 		href:'javascript:void(0);',
	// 		url : url
	// 	});
	// });

	// ui.tabs.handle.on('click', 'li', function(){
	// 	$(this).addClass('current').siblings('.current').removeClass('current');
	// 	if(typeof opt === 'function'){
	// 		var url = $(this).find('a').attr('url') || $(this).find('a').attr('href');
	// 		return opt(url, this);
	// 	}else{
	// 		return false;
	// 	}
	// });

	// if(typeof opt === 'function'){
	// 	var box = $(ui.tabs.id);

	// 	return ui.tabs.callback();
	// }
	// ui.tabs.queue[ui.tabs.id] = opt || ui.tabs.opt;
	return ui.tabs; 
};

// (function(){
// 	var t = ui.tabs;
// 	t.click = function(){
// 		$(t.id).on('click')
// 	};
// 	t.callback = function(fn){
// 		$(t.id).on('click', 'li', function(){
// 			if(typeof fn === 'function'){
// 				return fn()
// 			}
// 		});
// 	};
// })();

xue.extend('tabs', ui.tabs);

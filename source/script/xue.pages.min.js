ui.pages=ui.pages||function(e){ui.pages.id=e||"ui_pages";return ui.pages};
(function(){var e=ui.pages;e.queue={};var f={id:"ui_pages",handle:"#ui_pages",size:5,bitwise:2,current:1,pages:20,prevText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",prev:".pages_prev",next:".pages_next",item:".pages_item",html:"",fn:{},firstText:null,lastText:null,isMore:!0,callback:!1},l={wrap:'<ol class="ui_pages"></ol>',page:'<li class="pages_item" data-page="$pageData$"><a href="javascript:void(0);">$pageText$</a></li>',more:'<li class="pages_more"><span>...</span></li>',current:'<li class="pages_current"><span>$pageText$</span></li>',
prev:'<li class="pages_prev"><a href="javascript:void(0);" class="btn btn_gray $disable$">'+f.prevText+"</a></li>",next:'<li class="pages_next"><a href="javascript:void(0);" class="btn btn_gray $disable$">'+f.nextText+"</a></li>"};e.config=function(b){this.id=void 0===this.id?f.id:this.id;b.id=b.id||this.id;b.handle=b.handle||$("#"+b.id);var a={opt:{}};"object"===typeof b&&void 0===b.length?$.extend(a,f,b):$.extend(a,f);a.bitwise=a.size>>1;this.queue[this.id]=a;"function"===typeof a.pageClick&&(a.fn.pageClick=
a.pageClick);"function"===typeof a.prevClick&&(a.fn.prevClick=a.prevClick);"function"===typeof a.nextClick&&(a.fn.nextClick=a.nextClick);this.fn(this.id,a.fn);0<a.current&&0<a.pages&&e(this.id).go(a.current);this.id=void 0;return this};e.createItem=function(b,a,c){a=l["current"===c?"current":"page"].replace("$pageText$",a||b);return a=a.replace("$pageData$",b)};e.createBtn=function(b,a){return l["prev"===b?"prev":"next"].replace("$disable$",a?"btn_disable":"")};e.createMore=function(){return this.queue[this.id].isMore?
l.more:""};e.createPages=function(b,a){var c=this.queue[this.id];a=a||c.pages;c.pages=0<a?a:1;b=b||c.current;c.current=0<b?b>a?a:b:1;if(1===a)return this.createItem(1,1,"current");var e,g,h,d,m,n,f,l;m=this.createBtn("prev",1===b?!0:!1);n=this.createBtn("next",b===a?!0:!1);e=Number(b-c.bitwise);e=1>e?1:e;d=Number(b+c.bitwise);d=d>a?a:d;g=this.createMore();f=d<=c.size?"":this.createItem(1,c.firstText);l=e>a-c.size?"":this.createItem(a,c.lastText);if(10>=a){d=m;for(var k=1;k<=a;k++){var p=k===b?"current":
!1;d+=this.createItem(k,k,p)}return d+n}d<=c.size&&(e=1,d=c.size);e>a-c.size&&(e=a-c.size+1,d=a);h="";for(k=e;k<=d;k++)p=k===b?"current":!1,h+=this.createItem(k,k,p);d=m+f+(d<=c.size+1?"":g);d+=h;d+=e>=a-c.size?"":g;return d+=l+n};e.append=function(b){var a=this.queue[this.id];b=b||a.html;$(a.handle).html(b)};e.getPagesHTML=function(){var b=this.queue[this.id],a=this.createPages(b.current,b.pages),a=$(l.wrap).html(a);return b.html=a};e.go=function(b,a){this.id=this.id||f.id;var c=this.queue[this.id];
c.current=0<b?b:c.current;c.pages=a||c.pages;c=this.getPagesHTML();this.append(c);return this};e.fn=function(b,a){var c=this.queue[b],f=function(a,b){b=b||"page";return c.callback?c.callback(a,c.pages):c.fn[b+"Click"]?c.fn[b+"Click"](a,c.pages):"default"},g=1,h=!1,d=1;c.handle.on("click",c.item,function(){g=$(this).data("page");h=f(g,"page");if(void 0!==h){var a=g;e(b).go(a,c.pages)}});c.handle.on("click",c.prev,function(){d=c.current;d--;g=0<d?d:0;h=f(g,"prev");if(void 0!==h){var a=g;e(b).go(a,c.pages)}});
c.handle.on("click",c.next,function(){d=c.current;d++;g=d>c.pages?c.pages:d;h=f(g,"next");if(void 0!==h){var a=g;e(b).go(a,c.pages)}})};e.click=function(b){var a=this.queue[this.id];if("function"===typeof b){var c=e(this.id).getPagesHTML();return b(a.current,c)}}})();xue.extend("pages",ui.pages);